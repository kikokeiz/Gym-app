# ğŸ‹ï¸â€â™‚ï¸ Gym App - Backend

**Gym App** es una aplicaciÃ³n de gestiÃ³n de gimnasio que permite a los usuarios registrarse, iniciar sesiÃ³n, registrar entrenamientos, hacer seguimiento de su progreso fÃ­sico, gestionar membresÃ­as y comprar productos.

---

## ğŸ“ Estructura del proyecto

/backend
â”œâ”€â”€ controllers/
â”œâ”€â”€ models/
â”œâ”€â”€ routes/
â”œâ”€â”€ middlewares/
â”œâ”€â”€ .env
â”œâ”€â”€ server.js
â””â”€â”€ package.json


---

## ğŸš€ Funcionalidades principales

- Registro e inicio de sesiÃ³n de usuarios con JWT
- Registro y consulta de entrenamientos (workouts)
- Registro y consulta de progreso fÃ­sico
- Consulta de estado de membresÃ­a
- CatÃ¡logo y compra de productos
- Middleware de autenticaciÃ³n
- MongoDB Atlas o local

---

## ğŸ§° TecnologÃ­as utilizadas

- Node.js
- Express.js
- MongoDB + Mongoose
- JSON Web Tokens (JWT)
- Bcrypt
- CORS
- Dotenv

---

## âš™ï¸ InstalaciÃ³n y ejecuciÃ³n

```bash
# Clonar el repositorio
git clone https://github.com/kikokeiz/Gym-app.git
cd Gym-app/backend

# Instalar dependencias
npm install

# Crear archivo de variables de entorno
touch .env

# Ejecutar servidor
npm start


## ğŸ› ï¸ Proceso de Desarrollo

Este proyecto fue realizado como Trabajo de Fin de Ciclo (TFC) del ciclo formativo de **Desarrollo de Aplicaciones Multiplataforma (DAM)**. El objetivo fue construir una aplicaciÃ³n completa para la gestiÃ³n de un gimnasio, que ofreciera funcionalidades tanto para los usuarios (entrenamientos, seguimiento, compras) como para los administradores.

---

### ğŸ”§ ElecciÃ³n de TecnologÃ­as


#### ğŸ”¹ Backend (Servidor y API REST)

Para el desarrollo del backend optÃ© por **Node.js** junto con el framework **Express.js**, una combinaciÃ³n moderna y eficiente para la creaciÃ³n de servidores y APIs REST. Las principales razones para esta elecciÃ³n fueron:

- Facilidad y rapidez para levantar un servidor.
- Amplia comunidad y documentaciÃ³n.
- Capacidad de crear APIs escalables y modulares.

Como base de datos, utilicÃ© **MongoDB**, una base de datos NoSQL que me permitiÃ³:

- Almacenar informaciÃ³n en un formato similar a JSON (documentos BSON).
- Trabajar de forma flexible con colecciones dinÃ¡micas.
- Implementar de forma sencilla relaciones entre usuarios, entrenamientos, productos, etc.

Para la autenticaciÃ³n y seguridad:

- **JWT (JSON Web Tokens)** me permitiÃ³ crear sesiones seguras sin necesidad de mantener el estado en el servidor.
- **bcryptjs** fue utilizado para cifrar contraseÃ±as antes de almacenarlas.
- **dotenv** ayudÃ³ a mantener configuraciones sensibles (como claves y conexiones) fuera del cÃ³digo fuente.



#### ğŸ”¹ Frontend (AplicaciÃ³n Android)

Para la aplicaciÃ³n mÃ³vil, desarrollada para Android, elegÃ­ **Kotlin** como lenguaje de programaciÃ³n, combinado con **Jetpack Compose**, una moderna herramienta de creaciÃ³n de interfaces declarativas.

Motivos de esta elecciÃ³n:

- Kotlin es mÃ¡s moderno y seguro que Java, y es oficialmente soportado por Google.
- Jetpack Compose permite crear interfaces mÃ¡s limpias y mantenibles con menos cÃ³digo.
- La estructura declarativa facilita la adaptaciÃ³n a diferentes pantallas y estados visuales.

AdemÃ¡s, utilicÃ©:

- **Retrofit** para hacer peticiones HTTP hacia el backend.
- **Room** para almacenar datos localmente, permitiendo cierto grado de funcionalidad offline.
- **ViewModel** y **LiveData** como parte del patrÃ³n **MVVM**, facilitando la separaciÃ³n entre lÃ³gica de negocio y la interfaz.



#### ğŸ”¹ Herramientas Complementarias

- **Postman** para probar los endpoints de la API durante el desarrollo.
- **MongoDB Atlas** para desplegar la base de datos en la nube.
- **Git y GitHub** para control de versiones y colaboraciÃ³n.
- **Android Studio** como entorno principal de desarrollo de la app.

---

### âš™ï¸ Desarrollo del Proyecto


#### ğŸ“¦ Backend

ComencÃ© desarrollando la API RESTful. SeguÃ­ el patrÃ³n de arquitectura **MVC** (Modelo - Vista - Controlador) para mantener el cÃ³digo organizado.

1. **Modelos**: definÃ­ esquemas de Mongoose para usuarios, entrenamientos, productos y membresÃ­as.
2. **Controladores**: cada uno maneja la lÃ³gica correspondiente a su ruta (crear, leer, actualizar, eliminar datos).
3. **Rutas**: expuse endpoints con rutas protegidas (requieren JWT) y otras pÃºblicas (como login y registro).
4. **Middlewares**: implementÃ© middlewares personalizados como `authMiddleware` para verificar el token en las rutas privadas.

Las pruebas de los endpoints las realicÃ© con Postman, validando tanto casos de Ã©xito como errores.



#### ğŸ“± Frontend

Una vez funcionando la API, empecÃ© el desarrollo de la app Android.

- UtilicÃ© **MVVM** para mantener una separaciÃ³n clara entre interfaz (View), lÃ³gica de negocio (ViewModel) y acceso a datos (Repository).
- Cada pantalla (inicio de sesiÃ³n, registro, ejercicios, productos, perfil) fue creada con Jetpack Compose.
- UsÃ© **Retrofit** para la comunicaciÃ³n con el backend y configurÃ© el envÃ­o automÃ¡tico del token JWT con cada peticiÃ³n.
- UtilicÃ© **Room** para guardar localmente el historial de ejercicios, permitiendo ver el progreso incluso sin conexiÃ³n.



#### ğŸ”„ IntegraciÃ³n Frontend - Backend

La conexiÃ³n entre la app y el backend se realiza mediante peticiones HTTP con JSON. Algunas medidas tomadas fueron:

- Almacenamiento del token JWT de forma segura para sesiones persistentes.
- Manejo de errores y mensajes claros al usuario si la sesiÃ³n expirÃ³, si hubo errores de red, o si los datos ingresados eran incorrectos.
- SincronizaciÃ³n de datos entre el dispositivo y el servidor, actualizando la base de datos tras cada acciÃ³n del usuario.

---

### ğŸ” Seguridad y Buenas PrÃ¡cticas

- Uso de **bcrypt** para almacenar contraseÃ±as de forma segura.
- Uso de **JWT** para proteger rutas sensibles mediante autenticaciÃ³n basada en tokens.
- SeparaciÃ³n de variables sensibles con `dotenv`.
- ValidaciÃ³n bÃ¡sica en formularios (puede mejorarse en futuras versiones).
- OrganizaciÃ³n modular del cÃ³digo para facilitar mantenimiento y escalabilidad.

---

### ğŸ“š ConclusiÃ³n y Aprendizajes

Este proyecto me permitiÃ³ aplicar y reforzar muchos conceptos clave aprendidos durante el ciclo formativo, como:

- Desarrollo de APIs RESTful desde cero.
- AutenticaciÃ³n segura con JWT.
- Arquitectura limpia y patrones como MVC (backend) y MVVM (frontend).
- ComunicaciÃ³n entre aplicaciones mÃ³viles y servicios web.
- Uso de tecnologÃ­as actuales del ecosistema Android como Jetpack Compose y Room.

AdemÃ¡s, enfrentÃ© y solucionÃ© desafÃ­os reales de desarrollo como:

- GestiÃ³n del estado y sincronizaciÃ³n de datos.
- ValidaciÃ³n de formularios y manejo de errores.
- Problemas con la comunicaciÃ³n entre emulador y backend local.

El resultado es una aplicaciÃ³n funcional y escalable que puede evolucionar fÃ¡cilmente con nuevas funcionalidades en el futuro.
